<!DOCTYPE html>
<html>
  <body>
    <h2>JavaScript Promise</h2>

    <p id="demo"></p>
    <!-- "Producing code" là mã code có thể mất một khoảng thời gian thực thi.
    "Consuming code" là mã code phải chờ đợi kết quả. Một Promise là một đối
    tượng JavaScript kết nối giữa mã code "producing" và mã code "consuming". -->
    <script>
      function myDisplayer(some) {
        document.getElementById("demo").innerHTML = some;
      }

      let myPromise = new Promise(function (myResolve, myReject) {
        let x = 0;

        // some code (try to change x to 5)

        if (x == 0) {
          myResolve("OK");
        } else {
          myReject("Error");
        }
      });

      myPromise.then(
        function (value) {
          myDisplayer(value);
        },
        function (error) {
          myDisplayer(error);
        }
      );
    </script>
  </body>
</html>
